const xhttp=new XMLHttpRequest;function addwidth(t){let e=parseInt(document.getElementById("ddlSelectBar").value),n=document.getElementById("idlbl"+e).innerHTML;(t=parseInt(t)+parseInt(n))>=100?(document.getElementById("idBar"+e).style.backgroundColor="red",document.getElementById("idBar"+e).style.width="100%",document.getElementById("idlbl"+e).innerHTML=t+"%"):t<=100&&t>0?(document.getElementById("idBar"+e).style.backgroundColor="rgb(151, 238, 173)",document.getElementById("idBar"+e).style.width=t+"%",document.getElementById("idlbl"+e).innerHTML=t+"%"):t<=0&&(document.getElementById("idBar"+e).style.width="0%",document.getElementById("idlbl"+e).innerHTML="0%")}xhttp.onreadystatechange=function(){if(4==this.readyState&&200==this.status){var t=JSON.parse(this.responseText);console.log(t.buttons),console.log(t.bars);for(let e=0;e<t.buttons.length;e++){let n="btn"+e,d=t.buttons[e],l=document.createElement("button");document.getElementById("divButtonslst").appendChild(l),l.setAttribute("class","btnStyle"),l.setAttribute("id",n),l.setAttribute("value",d),console.log(Math.sign(d)),"1"==Math.sign(d)?l.innerHTML="Add "+d:"-1"==Math.sign(d)?l.innerHTML="Substract "+d:"0"==Math.sign(d)&&(l.innerHTML=d),l.addEventListener("click",(()=>{addwidth(d)}))}for(var e=0;e<t.bars.length;e++){let n=document.createElement("div");document.getElementById("divPopulater").appendChild(n),n.setAttribute("class","clsStyleProgress"),n.setAttribute("id","idWholeBar"+e);let d=document.createElement("div");n.appendChild(d),d.setAttribute("class","styleBar"),d.setAttribute("id","idBar"+e),d.style.width=t.bars[e]+"%";let l=document.createElement("label");d.appendChild(l),l.setAttribute("class","styleLabel"),l.setAttribute("id","idlbl"+e),l.innerHTML=t.bars[e]+"%"}for(let e=0;e<t.bars.length;e++){let t=document.getElementById("ddlSelectBar"),n=document.createElement("option");t.appendChild(n),n.setAttribute("id","ddl"+e),n.setAttribute("value",e),n.innerHTML="SelectBar "+(1+e)}}},xhttp.open("GET","http://pb-api.herokuapp.com/bars"),xhttp.send();